$.widget.bridge("uibutton",$.ui.button);var enableBlockUI=!0;function formatDosen(a){return a.hasOwnProperty("id")?0==a.id.length?a.text:$('<div class="row"><div class="col-8 border-right">'+a.text+'</div><div class="col-2 border-right overflow-hidden">Quota : <span class="badge badge-'+(a.quota>0?"info":"warning")+'">'+a.quota+'</span></div><div class="col-2">Jml. Bimbingan : <span class="badge badge-'+(a.jumlah_bimbingan<a.quota?"success":"warning")+'">'+a.jumlah_bimbingan+"</div></div>"):a.hasOwnProperty("children")&&a.children.length>0?a.text:void 0}function formatDosenSelection(a){return a.quota||(a.quota=a.element&&a.element.dataset.quota?a.element.dataset.quota:0),a.jumlah_bimbingan||(a.jumlah_bimbingan=a.element&&a.element.dataset.bimbingan?a.element.dataset.bimbingan:0),a.id?$('<div class="row ml-2"><div class="col-8 border-right">'+a.text+'</div><div class="col-2 border-right overflow-hidden">Quota : <span class="badge badge-'+(a.quota>0?"info":"warning")+'">'+a.quota+'</span></div><div class="col-2">Jml. Bimbingan : <span class="badge badge-'+(a.jumlah_bimbingan<a.quota?"success":"warning")+'">'+a.jumlah_bimbingan+"</div></div>"):a.text}function formatDosenPembahas(a){return a.hasOwnProperty("id")?0==a.id.length?a.text:$('<div class="row"><div class="col-8 border-right">'+a.text+'</div><div class="col-2 border-right overflow-hidden">Jml Pembahas-1 : <span class="badge badge-'+(a.total_utama>0?"info":"warning")+'">'+a.total_utama+'</span></div><div class="col-2">Jml Pembahas-2 : <span class="badge badge-'+(a.total_pendamping<a.total_utama?"success":"warning")+'">'+a.total_pendamping+"</div></div>"):a.hasOwnProperty("children")&&a.children.length>0?a.text:void 0}function formatDosenPembahasSelection(a){return a.total_utama||(a.total_utama=a.element&&a.element.dataset.total_utama?a.element.dataset.total_utama:0),a.total_pendamping||(a.total_pendamping=a.element&&a.element.dataset.total_pendamping?a.element.dataset.total_pendamping:0),a.id?$('<div class="row ml-2"><div class="col-8 border-right">'+a.text+'</div><div class="col-2 border-right overflow-hidden">Jml Pembahas-1 : <span class="badge badge-'+(a.total_utama>0?"info":"warning")+'">'+a.total_utama+'</span></div><div class="col-2">Jml Pembahas-2 : <span class="badge badge-'+(a.total_pendamping<a.total_utama?"success":"warning")+'">'+a.total_pendamping+"</div></div>"):a.text}function getProposalUsulanStatus(a=""){return{available:'<span class="badge badge-success">available</span>',selected:'<span class="badge badge-warning">selected</span>',claimed:'<span class="badge badge-danger">claimed</span>'}[a.toLowerCase()]}function getDosenStatus(a="",e=!1){return e?{AK:'<span class="badge badge-success">Aktif</span>',IB:'<span class="badge badge-primary">Izin Belajar</span>',TB:'<span class="badge badge-info">Tugas Belajar</span>',CT:'<span class="badge badge-warning">Cuti</span>',NA:'<span class="badge badge-danger">Lainnya</span>'}[a]:{AK:"Aktif",IB:"Izin Belajar",TB:"Tugas Belajar",CT:"Cuti",NA:"Lainnya"}[a]}function getDosenJenis(a="A",e=!1){return e?{P:'<span class="badge badge-success">PNS</span>',T:'<span class="badge badge-primary">Tetap Non-PNS</span>',K:'<span class="badge badge-info">Kontrak</span>',L:'<span class="badge badge-warning">Luar Biasa</span>',X:'<span class="badge badge-danger">Lainnya</span>'}[a]:{P:"PNS",T:"Tetap Non-PNS",K:"Kontrak",L:"Luar Biasa",X:"Lainnya"}[a]}function getLicenseLevel(a=1,e=!1){return e?{1:'<span class="badge badge-primary">Level 1</span>',2:'<span class="badge badge-primary">Level 2</span>',3:'<span class="badge badge-success">Level 3</span>',4:'<span class="badge badge-warning">Temporary</span>'}[a]:{1:"Level 1",2:"Level 2",3:"Level 3",4:"Temporary"}[a]}function setFormMessage(a,e,t=8e3){e.hasOwnProperty("stat")&&e.hasOwnProperty("msg")&&($(a).fadeIn(200,(function(){$(a).html(e.stat?'<div class="alert alert-success rounded-0 mb-1">'+e.msg+"</div>":'<div class="alert alert-danger rounded-0 mb-1">'+e.msg+"</div>")})),setTimeout((function(){$(a).fadeOut(t-1200,(function(){$(a).html("")}))}),t)),e.hasOwnProperty("csrf")&&$("meta[name="+e.csrf.name+"]").attr("content",e.csrf.token),e.hasOwnProperty("msgField")&&$.each(e.msgField,(function(a,e){$("#"+a).hasClass("is-invalid")||$("#"+a).addClass("is-invalid"),$("#"+a).next("div").hasClass("is-invalid")||$("#"+a).after('<div id="'+a+'-error" class="invalid-feedback">'+e+"</div>")})),e.hasOwnProperty("rowDel")&&$(e.rowDel).remove()}function getStatus(a=0,e="-"){return'<span class="'+{0:"badge badge-danger",1:"badge badge-warning",2:"badge badge-info",3:"badge badge-primary",4:"badge badge-success"}[a]+'">'+e+"</span>"}function refreshToken(a){a.hasOwnProperty("csrf")&&$("meta[name="+a.csrf.name+"]").attr("content",a.csrf.token)}function setActiveMenu(a,e="",t=""){a=a.trim(),e=e.trim(),t=t.trim(),$("li a.nav-link").each((function(){$(this).parent().parent().hasClass("nav-tabs")||$(this).removeClass("active"),$(this).parent().hasClass("has-treeview")&&$(this).parent().removeClass("menu-open")})),a.length>0&&($("."+a).parent().hasClass("has-treeview")&&$("."+a).parent().addClass("menu-open"),$("."+a).addClass("active")),e.length>0&&($("."+e).parent().hasClass("has-treeview")?$("."+e).parent().addClass("menu-open"):$("."+e).addClass("active")),t.length>0&&$("."+t).addClass("active").closest(".nav-treeview").show()}function blockUI(a,e=1,t){if(enableBlockUI){let n='<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>';"progress"==e&&(n='<h4 class="progress-tittle">Silahkan tunggu...</h4><div class="progress progress-status"><div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 1%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">1%</div></div>'),a=void 0===a?"body":a,$(a).block({onOverlayClick:$.unblockUI,overlayCSS:{backgroundColor:"#8EA0D7",cursor:"default"},message:n,css:{border:"none",color:"#4D79FF",background:"none",cursor:"default"},baseZ:1050}),void 0!==t&&progressUnblockUI(a,t,0,1)}}function unblockUI(a){a=void 0===a?"body":a,$(a).unblock()}function progressUnblockUI(a,e=1,t=0,n=1){let s=Math.round(100/e);t!=e?(t++,setTimeout((function(){let i=s*t;i=i>100?"100%":i+"%",$(".progress-bar").css("width",i).text(i),progressUnblockUI(a,e,t,n)}),1e3)):n&&setTimeout((function(){unblockUI(a)}),1e3)}function closeModal(a,e={}){e.hasOwnProperty("mcc")?e.mcc&&setTimeout((function(){$modalConfirm.modal("hide")}),1e3):e.hasOwnProperty("mc")?e.mc&&setTimeout((function(){$modal.modal("hide")}),1e3):a&&setTimeout((function(){$(a).modal("toggle")}),1e3)}function resetForm(a,e){e=void 0!==e?e:"",$(".select2, .selectbox",a).not(e).val("").trigger("change"),$(":input",a).not(":button, :submit, :reset, :radio"+(e.length>0?","+e:"")).val("").prop("selected",!1),$("label.custom-file-label").text("")}function ajaxChained(a,e,t,n="",s=""){var i='<option value="">- pilih -</option>',o=0;a.length>0?$.ajax({type:"POST",url:t,dataType:"json",data:{[n]:$("meta[name="+n+"]").attr("content"),id:a}}).done((function(a){refreshToken(a);let t=s.split(",");$.each(a.data,(function(a,e){let n=t.length;i+='<option value="'+e.id+'" ';for(let a=0;a<n;a++)i+="data-"+t[a]+'="'+e[t[a]]+'" ';i+=">"+e.text+"</option>"})),o=a.data.length,$(e).html(i),$(e).select2()})):($(e).html(i),$(e).select2({placeholder:o+" results"}))}function getDayName(a){return(a=parseInt(a))>0&&a<8?["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"][a-1]:""}function formatMoney(a){return new Intl.NumberFormat("id-ID").format(a)}function customFiles(){if(window.FileReader&&window.FileList&&window.Blob&&window.File){$(".preview-images-zone").find("tr.img-client").remove();var a=event.target.files;for(let n=0;n<a.length;n++){var e=a[n];if(!e.type.match("image"))continue;var t=new FileReader;let s="img"+getSandStr(3,"-",3),i=(e.size/1e3).toFixed(2),o=e.type;t.addEventListener("load",(function(a){var e=a.target,t='<tr class="img-client"><td class="align-top"><div class="preview-image preview-show-'+n+'"><div class="image-zone"><img id="pro-img-'+n+'" src="'+e.result+'"></div><input type="hidden" name="cdImg['+n+']" value="'+s+'"/></div></td><td class="align-top"><div><strong>Tipe : </strong>'+o+"</div><div><strong>Ukuran : </strong>"+i+' Kb</div></td><td class="align-top"><input type="text" class="form-control form-control-sm title-image-'+n+" "+s+'" placeholder="Judul Gambar" name="gambarJudul['+n+']" value=""/></td><td class="text-center align-top""><div class="icheck-primary d-inline mr-2"><input type="radio" id="gambarUtama'+n+'" name="gambarUtama" value="'+n+'"><label for="gambarUtama'+n+'"></label></div></td><td class="text-center align-top""><div class="icheck-success d-inline"><input type="checkbox" name="gambarSelect[]" value="'+n+'" id="gambar'+n+'" checked><label for="gambar'+n+'"></label></div></td></tr>';$(t).appendTo(".preview-images-zone")})),t.readAsDataURL(e)}$("#pro-image").val("")}else alert("Browser not support")}function getDataModal(a,e){let t="body";blockUI(t),setTimeout((function(){a.load(e,(function(){a.modal("show")})),unblockUI(t)}),100)}function setStore(a,e){store.set(a,e)}function getStore(a){return store.get(a)}function showDir(a,e){let t=$(a)[0].files[0].name;$(e).text(t)}function select2AllowRenderHtml(a){return a}function select2ShowOfficialFlag(a){if(!a.id)return a.text;return a.text+{0:"",1:'&nbsp;<label class="label label-inline label-success">official</label>'}[$(a.element).data("official")]}function formatBytes(a,b=2,k=1024){with(Math){let d=floor(log(a)/log(k));return 0==a?"0 Bytes":parseFloat((a/pow(k,d)).toFixed(max(0,b)))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][d]}}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".date_filter").daterangepicker({startDate:moment().startOf("month"),endDate:moment(),locale:{format:"DD-MM-YYYY",separator:" ~ "},ranges:{Sekarang:[moment(),moment()],Kemarin:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Tgl. 1 - Sekarang":[moment().startOf("month"),moment()],"1 Minggu lalu":[moment().subtract(6,"days"),moment()],"30 Hari lalu":[moment().subtract(29,"days"),moment()],"Bulan ini":[moment().startOf("month"),moment().endOf("month")]}}),$(".date_filter").on("cancel.daterangepicker",(function(a,e){$(this).val("")})),$(".date_filter").on("apply.daterangepicker",(function(a,e){"undefined"!=typeof dataTable&&(blockUI(".card"),dataTable.draw(),setTimeout((function(){unblockUI(".card")}),500))}));var $modal=$("#ajax-modal"),$modalConfirm=$("#ajax-modal-confirm");$("body").on("click",".ajax_modal",(function(a){a.preventDefault();let e=$(this).data("url"),t=$(this).data("block");blockUI(t),setTimeout((function(){$modal.load(e,(function(){$modal.modal("show"),unblockUI(t)}))}),10)})),$("body").on("click",".ajax_modal_confirm",(function(a){a.preventDefault();let e=$(this).data("url"),t=$(this).data("block");blockUI(t),setTimeout((function(){$modalConfirm.load(e,(function(){$modalConfirm.modal("show"),unblockUI(t)}))}),10)}));var hl=function(a,e,t){$(a).removeClass("is-valid").addClass("is-invalid");let n=$(a);n.hasClass("select2-offscreen")&&$("#s2id_"+n.attr("id")+" ul").addClass(e)},uhl=function(a,e,t){$(a).removeClass("is-invalid");let n=$(a);n.hasClass("select2-offscreen")&&$("#s2id_"+n.attr("id")+" ul").removeClass(e)},sc=function(a,e){a.remove(),$(e).removeClass("is-invalid")},erp=function(a,e){e.is("select")&&(e.hasClass("select2")||e.hasClass("select2-hidden-accessible"))?$(e).parent().append(a):e.is("select")||"radio"==e.attr("type")||"checkbox"==e.attr("type")||"textarea"==e.attr("type")?a.insertAfter($(e).closest(".form-group").children("div").children().last()):e.is("select")?a.appendTo($(e).parent()):e.hasClass("ckeditor")?a.appendTo($(e).closest(".form-group")):$(e).parent().hasClass("input-group")?$(e).parent().append(a):$(e).parent().hasClass("custom-file")?$(e).parent().parent().append(a):a.insertAfter(e)},currencyMask={prefix:"",autoUnmask:!0,radixPoint:",",groupSeparator:".",digits:2,autoGroup:!0,allowMinus:!1,min:0,rightAlign:!0,positionCaretOnClick:!0,digitsOptional:!0,oncleared:function(a){$(this).val("0")}},discountMask={prefix:"",autoUnmask:!0,radixPoint:",",groupSeparator:".",digits:2,autoGroup:!0,allowMinus:!1,min:0,max:99,rightAlign:!0,positionCaretOnClick:!0,digitsOptional:!0,oncleared:function(a){$(this).val("0")}},debtMask={prefix:"",autoUnmask:!0,radixPoint:",",groupSeparator:".",digits:0,autoGroup:!0,allowMinus:!0,prefix:"",rightAlign:!0,positionCaretOnClick:!0,digitsOptional:!0,oncleared:function(a){$(this).val("0")}},datepickModal={parentEl:".modal-body",singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerIncrement:1,autoUpdateInput:!0,locale:{format:"YYYY-MM-DD HH:mm"}},datepickMonYear={singleDatePicker:!0,showDropdowns:!0,locale:{format:"MM-YYYY"}},daterangepickModal={startDate:moment().startOf("month"),endDate:moment(),locale:{format:"DD-MM-YYYY",separator:" ~ "},ranges:{Sekarang:[moment(),moment()],Kemarin:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Tgl. 1 - Sekarang":[moment().startOf("month"),moment()],"1 Minggu lalu":[moment().subtract(6,"days"),moment()],"Bulan ini":[moment().startOf("month"),moment().endOf("month")],"Bulan Kemarin":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},chartOption={responsive:!0,maintainAspectRatio:!1,datasetFill:!1,legend:{display:!1},scaleStartValue:0,scales:{yAxes:[{display:!0,ticks:{suggestedMin:0,beginAtZero:!0}}]},tooltips:{callbacks:{label:function(a,e){return"Total: "+parseInt(a.yLabel).toLocaleString("id-ID")+" "+e.datasets[a.datasetIndex].label}}}};void 0!==$.ui&&($.ui.dialog.prototype._allowInteraction=function(a){return!!$(a.target).closest(".ui-dialog, .ui-datepicker, .select2-drop").length});var chartOnHover=function(a){this.getElementAtEvent(a).length?a.target.style.cursor="pointer":a.target.style.cursor="default"};
